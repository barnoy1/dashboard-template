<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scatter Plot with Luxon Time and Custom Formatting</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/css/bootstrap.min.css">
    <style>
        /* Optional: Add any custom styles here */
    </style>
</head>
<body class="bg-dark text-white">
    <div class="container mt-5">
        <canvas id="myChart"></canvas>
    </div>
    <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/luxon"></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon"></script> -->

    
    <script src="vendor/chart.js-4.4.3/package/dist/chart.umd.js"></script>
    <script src="vendor/luxon/luxon.min.js"></script>
    <script src="vendor/luxon/chartjs-adapter-luxon.min.js"></script>


    <script>
        const ctx = document.getElementById('myChart').getContext('2d');

        const data = {
            datasets: [
                {
                    label: 'Dataset 1',
                    data: [
                        {x: '2024-07-01T10:00:00', y: 10, comment: 'Comment for entry 1'},
                        {x: '2024-07-02T11:00:00', y: 15, comment: 'Comment for entry 2'},
                        {x: '2024-07-03T12:00:00', y: 7, comment: 'Comment for entry 3'},
                        {x: '2024-07-04T13:00:00', y: 20, comment: 'Comment for entry 4'}
                    ],
                    backgroundColor: 'rgba(255, 99, 132, 1)',
                    pointStyle: 'triangle', // Custom marker shape
                    pointRadius: 10
                },
                {
                    label: 'Dataset 2',
                    data: [
                        {x: '2024-07-02T11:00:00', y: 10, comment: 'Comment for entry 5'},
                        {x: '2024-07-03T12:00:00', y: 15, comment: 'Comment for entry 6'},
                        {x: '2024-07-05T14:00:00', y: 7, comment: 'Comment for entry 7'},
                        {x: '2024-07-06T15:00:00', y: 12, comment: 'Comment for entry 8'}
                    ],
                    backgroundColor: 'rgba(54, 162, 235, 1)',
                    pointStyle: 'rect', // Custom marker shape
                    pointRadius: 10
                },
                {
                    label: 'Dataset 3',
                    data: [
                        {x: '2024-07-01T10:00:00', y: 5, comment: 'Comment for entry 9'},
                        {x: '2024-07-04T13:00:00', y: 8, comment: 'Comment for entry 10'},
                        {x: '2024-07-05T14:00:00', y: 10, comment: 'Comment for entry 11'},
                        {x: '2024-07-07T16:00:00', y: 15, comment: 'Comment for entry 12'}
                    ],
                    backgroundColor: 'rgba(75, 192, 192, 1)',
                    pointStyle: 'circle', // Custom marker shape
                    pointRadius: 10
                }
            ]
        };

        const config = {
            type: 'scatter',
            data: data,
            options: {
                scales: {
                    x: {
                        type: 'time', // Use time scale for x-axis
                        time: {
                            unit: 'day', // Define the time unit
                            displayFormats: {
                                day: 'dd LLL yyyy' // Format the date
                            },
                            tooltipFormat: 'dd LLL yyyy' // Format the tooltip date
                        },
                        title: {
                            display: true,
                            text: 'Date'
                        },
                        ticks: {
                            autoSkip: true,
                            maxRotation: 60,
                            minRotation: 60
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Values'
                        }
                    }
                },
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                label += `(${context.raw.x}, ${context.raw.y})`;
                                if (context.raw.comment) {
                                    label += ` - ${context.raw.comment}`;
                                }
                                return label;
                            }
                        }
                    }
                }
            }
        };

        const myChart = new Chart(ctx, config);
    </script>
</body>
</html>
